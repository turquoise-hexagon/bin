#!/bin/sh

die() {
    echo "${1:-usage : ${0##*/} [file] ...}" >&2
    exit 1
}

tar=${1%/}
tar=${tar%%.*}.tar.gz

[ "$1" ] ||
    die

[ -e "$tar" ] &&
    die "error : '$tar' already exists"

for file; do
    [ -e "$file" ] ||
        die "error : '$file' isn't a valid file"
done

tar czvf "$tar" "$@"
